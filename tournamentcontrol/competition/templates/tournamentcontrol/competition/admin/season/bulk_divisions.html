{% extends "tournamentcontrol/competition/admin/base.html" %}
{% load i18n %}
{% load common %}

{% block extracss %}
	{{ block.super }}
	<style type="text/css">
		.field_wrapper .field.text_input input { width: 200px; }
		.field_wrapper .field.textarea textarea { width: 300px; height: 60px; }
	</style>
{% endblock %}

{% block extrajs %}
	{{ block.super }}
	<script type="text/javascript" src="{{ STATIC_URL }}tournamentcontrol/competition/js/formset.js"></script>
{% endblock %}

{% block body_class %}{{ block.super }} bulk-divisions{% endblock %}

{% block content %}
	<form class="formset" action="" method="POST">
		{% csrf_token %}
		{{ formset.management_form }}

		<div class="box">
			<h1>{% trans "Bulk Create Divisions" %}</h1>
			<p>{% trans "Use this form to quickly create multiple divisions for this season. Only the division title is required - other fields will use sensible defaults." %}</p>

			<table>
				<thead>
					<tr>
						<th>{% trans "Division Title" %}</th>
						<th>{% trans "Short Title" %}</th>
						<th>{% trans "Notes" %}</th>
						<th>{% trans "Draft" %}</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					{% for form in formset %}
						<tr class="{% if forloop.first %}first {% endif %}{% cycle "odd" "even" %}{% if forloop.last %} last{% endif %}">
							<td>{% field form.title "" %}</td>
							<td>{% field form.short_title "" %}</td>
							<td>{% field form.copy "" %}</td>
							<td>{% field form.draft %}</td>
							<td>{{ form.id }}</td>
						</tr>
					{% empty %}
						<tr class="first odd last">
							<td colspan="5" class="no_results">{% blocktrans with title=season.title %}No divisions created yet for {{ title }}.{% endblocktrans %}</td>
						</tr>
					{% endfor %}
				</tbody>
				<tfoot class="hidden">
					<tr class="empty">
						<td>{% field formset.empty_form.title "" %}</td>
						<td>{% field formset.empty_form.short_title "" %}</td>
						<td>{% field formset.empty_form.copy "" %}</td>
						<td>{% field formset.empty_form.draft %}</td>
						<td>{{ formset.empty_form.id }}</td>
					</tr>
				</tfoot>
			</table>

			<div id="actions" class="actions">
				<a class="button add" href="#add">{% trans "Add division" %}</a>
			</div>

			<div class="buttons">
				<button type="submit">{% trans "Save" %}</button>
				<a class="button" href="..">{% trans "Cancel" %}</a>
			</div>
		</div>
	</form>
{% endblock %}